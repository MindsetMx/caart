<h1 class="font-optima text-4xl font-bold mb-8">Generales y exterior del auto</h1>

<h2 class="text-xl font-bold mb-5">Información general del automóvil</h2>
<form [formGroup]="exteriorOfTheCarForm" (ngSubmit)="exteriorOfTheCarFormSubmit()"
  class="grid grid-cols-2 gap-5 items-end">
  <div>
    <label for="brand" class="block mb-1 text-sm">Marca</label>
    <select id="brand" formControlName="brand" sharedInput>
      @for (brand of brands(); track $index) {
      <option [value]="brand">{{brand}}</option>
      }
    </select>
    @if (hasError('brand')) {
    <shared-input-error [message]="getError('brand')"></shared-input-error>
    }
  </div>

  <div>
    <label for="year" class="block mb-1 text-sm">Año</label>
    <input id="year" formControlName="year" type="number" min="1900" [max]="currentYear" sharedInput>
    @if (hasError('year')) {
    <shared-input-error [message]="getError('year')"></shared-input-error>
    }
  </div>

  <div class="col-span-2">
    <label for="carModel" class="block mb-1 text-sm">Modelo</label>
    <input id="carModel" formControlName="carModel" type="text" sharedInput>
    @if (hasError('carModel')) {
    <shared-input-error [message]="getError('carModel')"></shared-input-error>
    }
  </div>

  <!-- <div>
    <label for="mileage" class="block mb-1 text-sm">Kilometraje</label>
    <input id="mileage" formControlName="mileage" type="number" sharedInput>
    @if (hasError('mileage')) {
    <shared-input-error [message]="getError('mileage')"></shared-input-error>
    }
  </div> -->

  <div>
    <label for="odometerVerified" class="block mb-1 text-sm">¿El odómetro es acertado?</label>
    <select id="odometerVerified" formControlName="odometerVerified" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('odometerVerified')) {
    <shared-input-error [message]="getError('odometerVerified')"></shared-input-error>
    }
  </div>

  <!-- transmision select -->
  <div>
    <label for="transmissionType" class="block mb-1 text-sm">Transmisión</label>
    <select id="transmissionType" formControlName="transmissionType" sharedInput>
      <option value="Automática">Automática</option>
      <option value="Manual">Manual</option>
      <option value="Otro">Otro</option>
    </select>
    @if (hasError('transmissionType')) {
    <shared-input-error [message]="getError('transmissionType')"></shared-input-error>
    }
  </div>

  <!-- Tipo de vendedor select -->
  <!-- <div>
    <label for="sellerType" class="block mb-1 text-sm">Tipo de vendedor</label>
    <select id="sellerType" formControlName="sellerType" sharedInput>
      <option value="individual">Individual</option>
      <option value="dealer">Distribuidor</option>
    </select>
    @if (hasError('sellerType')) {
    <shared-input-error [message]="getError('sellerType')"></shared-input-error>
    }
  </div> -->

  <!-- Garantías del auto select -->
  <div class="col-span-2">
    <label for="warranties" class="block mb-1 text-sm">Garantías del auto</label>
    <select id="warranties" formControlName="warranties" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('warranties')) {
    <shared-input-error [message]="getError('warranties')"></shared-input-error>
    }
  </div>

  <!-- wichWarranties -->
  @if (warrantiesControl.value === 'true') {
  <div class="col-span-2">
    <label for="whichWarranties" class="block mb-1 text-sm">¿Cuáles?</label>
    <textarea id="whichWarranties" formControlName="whichWarranties" rows="4" sharedInput
      sharedAutoResizeTextarea></textarea>
    @if (hasError('whichWarranties')) {
    <shared-input-error [message]="getError('whichWarranties')"></shared-input-error>
    }
  </div>
  }

  <!-- Factura / Pedimento select -->
  <div class="col-span-2">
    <label for="invoiceType" class="block mb-1 text-sm">Factura / Pedimento</label>
    <select id="invoiceType" formControlName="invoiceType" sharedInput>
      <!-- <option value="true">Sí</option>
      <option value="false">No</option> -->
      <!-- invoice -->
      <option value="invoice">Factura</option>
      <option value="pediment">Pedimento</option>
      <option value="other">Otro</option>
    </select>
    @if (hasError('invoiceType')) {
    <shared-input-error [message]="getError('invoiceType')"></shared-input-error>
    }
  </div>

  <!-- Explica los detalles de Factura / Pedimiento / Otro textarea -->
  <div class="col-span-2">
    <label for="invoiceDetails" class="block mb-1 text-sm">Explica los detalles de Factura / Pedimiento /
      Otro</label>
    <textarea id="invoiceDetails" formControlName="invoiceDetails" rows="4" sharedInput
      sharedAutoResizeTextarea></textarea>
    @if (hasError('invoiceDetails')) {
    <shared-input-error [message]="getError('invoiceDetails')"></shared-input-error>
    }
  </div>

  <!-- Historia del auto textarea -->
  <div class="col-span-2">
    <label for="carHistory" class="block mb-1 text-sm">Historia del auto</label>
    <textarea id="carHistory" formControlName="carHistory" rows="6" sharedInput sharedAutoResizeTextarea></textarea>
    @if (hasError('carHistory')) {
    <shared-input-error [message]="getError('carHistory')"></shared-input-error>
    }
  </div>

  <div class="col-span-2 mt-4">
    <h2 class="text-xl font-bold">Exterior del auto</h2>
  </div>

  <!-- Color exterior select -->
  <div>
    <label for="exteriorColor" class="block mb-1 text-sm">Color exterior</label>
    <select id="exteriorColor" formControlName="exteriorColor" sharedInput>
      @for (color of colors(); track $index) {
      <option [value]="color.name">{{color.name}}</option>
      }
    </select>
    @if (hasError('exteriorColor')) {
    <shared-input-error [message]="getError('exteriorColor')"></shared-input-error>
    }
  </div>

  <!-- Color específico -->
  <div>
    <label for="specificColor" class="block mb-1 text-sm">Color específico</label>
    <input id="specificColor" formControlName="specificColor" type="text" sharedInput>
    @if (hasError('specificColor')) {
    <shared-input-error [message]="getError('specificColor')"></shared-input-error>
    }
  </div>

  <!-- Ha estado involucrado en un accidente select -->
  <div class="col-span-2">
    <label for="accident" class="block mb-1 text-sm">¿Ha estado involucrado en un accidente?</label>
    <select id="accident" formControlName="accident" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('accident')) {
    <shared-input-error [message]="getError('accident')"></shared-input-error>
    }
  </div>

  <!-- El auto se ha corrido en pista / autodromo select -->
  <div class="col-span-2">
    <label for="raced" class="block mb-1 text-sm">¿El auto se ha corrido en pista / autodromo?</label>
    <select id="raced" formControlName="raced" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('raced')) {
    <shared-input-error [message]="getError('raced')"></shared-input-error>
    }
  </div>

  <!-- Pintura original select -->
  <div>
    <label for="originalPaint" class="block mb-1 text-sm">¿Pintura original?</label>
    <select id="originalPaint" formControlName="originalPaint" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('originalPaint')) {
    <shared-input-error [message]="getError('originalPaint')"></shared-input-error>
    }
  </div>

  <!-- Cuentas con medidor de pintura select -->
  <div>
    <label for="paintMeter" class="block mb-1 text-sm">¿Cuentas con medidor de pintura?</label>
    <select id="paintMeter" formControlName="paintMeter" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('paintMeter')) {
    <shared-input-error [message]="getError('paintMeter')"></shared-input-error>
    }
  </div>

  <!-- Se le ha modificado el exterior select -->
  <div>
    <label for="exteriorModified" class="block mb-1 text-sm">¿Se le ha modificado el exterior?</label>
    <select id="exteriorModified" formControlName="exteriorModified" sharedInput>
      <option value="true">Sí</option>
      <option value="false">No</option>
    </select>
    @if (hasError('exteriorModified')) {
    <shared-input-error [message]="getError('exteriorModified')"></shared-input-error>
    }
  </div>

  <!-- Condición del exterior select -->
  <div>
    <label for="exteriorCondition" class="block mb-1 text-sm">Condición del exterior</label>
    <select id="exteriorCondition" formControlName="exteriorCondition" sharedInput>
      <option value="excellent">Excelente</option>
      <option value="good">Buena</option>
      <option value="regular">Regular</option>
      <option value="bad">Mala</option>
    </select>
    @if (hasError('exteriorCondition')) {
    <shared-input-error [message]="getError('exteriorCondition')"></shared-input-error>
    }
  </div>

  <!-- Comentarios sobre detalles textarea -->
  <div class="col-span-2">
    <label for="detailComments" class="block mb-1 text-sm">Comentarios sobre detalles</label>
    <textarea id="detailComments" formControlName="detailComments" rows="6" sharedInput
      sharedAutoResizeTextarea></textarea>
    @if (hasError('detailComments')) {
    <shared-input-error [message]="getError('detailComments')"></shared-input-error>
    }
  </div>

  <!-- Fotos/vídeos de detalles -->
  <!-- <div class="col-span-2">
    <label for="uppyDashboard1" class="text-sm cursor-pointer">
      Fotos/vídeos de detalles <span class="text-gray4">(Opcional)</span>
    </label>

    <div id="uppyDashboard1" #uppyDashboard1></div>

    @if (hasError('detailPhotos')) {
    <shared-input-error [message]="getError('detailPhotos')"></shared-input-error>
    }
  </div> -->

  <!-- Fotos/vídeos del exterior del auto -->
  <div class="col-span-2">
    <label for="exteriorImagesOrVideos" class="text-sm cursor-pointer">
      Fotos/vídeos del exterior del auto
    </label>

    <div id="uppyDashboard" #uppyDashboard></div>

    @if (hasError('exteriorPhotos')) {
    <shared-input-error [message]="getError('exteriorPhotos')"></shared-input-error>
    }

  </div>

  <div class="col-span-2">
    <button class="flex justify-center mt-4" type="submit" [disabled]="isButtonSubmitDisabled()"
      [class.opacity-50]="isButtonSubmitDisabled()" sharedPrimaryButton>
      @if (isButtonSubmitDisabled()) {
      <shared-spinner></shared-spinner>
      } @else {
      Siguiente
      }
    </button>
  </div>
</form>